<!-- markdownlint-disable MD005 -->
<!-- markdownlint-disable MD029 -->

這個編碼規範是給TypeScript開發團隊在開發TypeScript時使用的。
對於使用TypeScript的普通用戶來說不一定適用，但是可以做為一個參考。

## 命名

1. 使用PascalCase為類型命名。
2. 不要使用`I`做為接口名前綴。
3. 使用PascalCase為枚舉值命名。
4. 使用camelCase為函數命名。
5. 使用camelCase為屬性或本地變量命名。
6. 不要為私有屬性名添加`_`前綴。
7. 儘可能使用完整的單詞拼寫命名。

## 組件

1. 1個文件對應一個邏輯組件 （比如：解析器，檢查器）。
2. 不要添加新的文件。 :)
3. `.generated.*`後綴的文件是自動生成的，不要手動改它。

## 類型

1. 不要導出類型/函數，除非你要在不同的組件中共享它。
2. 不要在全局命名空間內定義類型/值。
3. 共享的類型應該在`types.ts`裡定義。
4. 在一個文件裡，類型定義應該出現在頂部。

## `null` 和 `undefined`：

1. 使用 **undefined**，不要使用 null。

## 一般假設

1. 假設像Nodes，Symbols等這樣的物件在定義它的組件外部是不可改變的。不要去改變它們。
2. 假設陣列是不能改變的。

## 類

1. 為了保持一致，在核心編譯鏈中不要使用類，使用函數閉包代替。

## 標記

1. 一個類型中有超過2個布爾屬性時，把它變成一個標記。

## 註釋

為函數，接口，枚舉類型和類使用JSDoc風格的註釋。

## 字符串

1. 使用雙引號`""`
2. 所有要展示給用戶看的信息字符串都要做好本地化工作（在diagnosticMessages.json中創建新的實體）。

## 錯誤提示信息

1. 在句子結尾使用`.`。
2. 對不確定的實體使用不定冠詞。
3. 確切的實體應該使用名字（變量名，類型名等）
4. 當創建一條新的規則時，主題應該使用單數形式（比如：An external module cannot...而不是External modules cannot）。
5. 使用現在時態。

## 錯誤提示信息代碼

提示信息被劃分類成了一般的區間。如果要新加一個提示信息，在上條代碼上加1做為新的代碼。

* 1000 語法信息
* 2000 語言信息
* 4000 聲明生成信息
* 5000 編譯器選項信息
* 6000 命令行編譯器信息
* 7000 noImplicitAny信息

## 普通方法

由於種種原因，我們避免使用一些方法，而使用我們自己定義的。

1. 不使用ECMAScript 5函數；而是使用[core.ts](https://github.com/Microsoft/TypeScript/blob/master/src/compiler/core.ts)這裡的。
2. 不要使用`for..in`語句；而是使用`ts.forEach`，`ts.forEachKey`和`ts.forEachValue`。注意它們之間的區別。
3. 如果可能的話，嘗試使用`ts.forEach`，`ts.map`和`ts.filter`代替循環。

## 風格

1. 使用arrow函數代替匿名函數表達式。
2. 只要需要的時候才把arrow函數的參數括起來。<br />比如，`(x) => x + x`是錯誤的，下面是正確的做法：

  1. `x => x + x`
  2. `(x,y) => x + y`
  3. `<T>(x: T, y: T) => x === y`

3. 總是使用`{}`把循環體和條件語句括起來。
4. 開始的`{`總是在同一行。
5. 小括號裡開始不要有空白. <br />逗號，冒號，分號後要有一個空格。比如：

  1. `for (var i = 0, n = str.length; i < 10; i++) { }`
  2. `if (x < 10) { }`
  3. `function f(x: number, y: string): void { }`

6. 每個變量聲明語句只聲明一個變量 <br />（比如 使用 `var x = 1; var y = 2;` 而不是 `var x = 1, y = 2;`）。
7. `else`要在結束的`}`後另起一行。
